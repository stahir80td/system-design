<svg viewBox="0 0 1500 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1500" height="900" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="750" y="35" font-size="26" font-weight="bold" text-anchor="middle" fill="#1a1a1a">YouTube Video Platform Architecture</text>
  
  <!-- Upload Path Section -->
  <g id="upload-section">
    <text x="150" y="75" font-size="14" font-weight="bold" fill="#666">Upload Path</text>
    
    <!-- Creator Client -->
    <rect x="50" y="100" width="120" height="60" rx="5" fill="#FF0000" />
    <text x="110" y="130" text-anchor="middle" fill="white" font-size="14">Creator</text>
    <text x="110" y="150" text-anchor="middle" fill="white" font-size="11">(Upload Client)</text>
    
    <!-- Upload Service -->
    <rect x="220" y="100" width="130" height="60" rx="5" fill="#282828" />
    <text x="285" y="130" text-anchor="middle" fill="white" font-size="14">Upload Service</text>
    <text x="285" y="150" text-anchor="middle" fill="white" font-size="11">(Resumable)</text>
    
    <!-- Raw Storage -->
    <rect x="400" y="100" width="130" height="60" rx="5" fill="#4285F4" />
    <text x="465" y="130" text-anchor="middle" fill="white" font-size="14">Raw Storage</text>
    <text x="465" y="150" text-anchor="middle" fill="white" font-size="11">(Temporary)</text>
  </g>
  
  <!-- Processing Pipeline -->
  <g id="processing">
    <text x="650" y="75" font-size="14" font-weight="bold" fill="#666">Processing Pipeline</text>
    
    <rect x="600" y="100" width="140" height="60" rx="5" fill="#9C27B0" />
    <text x="670" y="130" text-anchor="middle" fill="white" font-size="14">Video Processor</text>
    <text x="670" y="150" text-anchor="middle" fill="white" font-size="11">(Validation)</text>
    
    <rect x="770" y="100" width="140" height="60" rx="5" fill="#673AB7" />
    <text x="840" y="130" text-anchor="middle" fill="white" font-size="14">Transcoder</text>
    <text x="840" y="150" text-anchor="middle" fill="white" font-size="11">(Multi-Resolution)</text>
    
    <rect x="940" y="100" width="140" height="60" rx="5" fill="#3F51B5" />
    <text x="1010" y="130" text-anchor="middle" fill="white" font-size="14">Content ID</text>
    <text x="1010" y="150" text-anchor="middle" fill="white" font-size="11">(Copyright)</text>
    
    <rect x="1110" y="100" width="140" height="60" rx="5" fill="#2196F3" />
    <text x="1180" y="130" text-anchor="middle" fill="white" font-size="14">Thumbnail Gen</text>
    <text x="1180" y="150" text-anchor="middle" fill="white" font-size="11">(Multiple Sizes)</text>
  </g>
  
  <!-- Storage Layer -->
  <g id="storage">
    <text x="150" y="220" font-size="14" font-weight="bold" fill="#666">Storage Layer</text>
    
    <!-- Colossus -->
    <rect x="50" y="240" width="160" height="70" rx="5" fill="#0F9D58" />
    <text x="130" y="270" text-anchor="middle" fill="white" font-size="14">Colossus/GFS</text>
    <text x="130" y="290" text-anchor="middle" fill="white" font-size="11">(Video Files)</text>
    
    <!-- BigTable -->
    <rect x="240" y="240" width="160" height="70" rx="5" fill="#4285F4" />
    <text x="320" y="270" text-anchor="middle" fill="white" font-size="14">BigTable</text>
    <text x="320" y="290" text-anchor="middle" fill="white" font-size="11">(Metadata)</text>
    
    <!-- Spanner -->
    <rect x="430" y="240" width="160" height="70" rx="5" fill="#EA4335" />
    <text x="510" y="270" text-anchor="middle" fill="white" font-size="14">Spanner</text>
    <text x="510" y="290" text-anchor="middle" fill="white" font-size="11">(Users/Comments)</text>
    
    <!-- BigQuery -->
    <rect x="620" y="240" width="160" height="70" rx="5" fill="#FBBC04" />
    <text x="700" y="270" text-anchor="middle" fill="white" font-size="14">BigQuery</text>
    <text x="700" y="290" text-anchor="middle" fill="white" font-size="11">(Analytics)</text>
  </g>
  
  <!-- Application Services -->
  <g id="services">
    <text x="150" y="350" font-size="14" font-weight="bold" fill="#666">Application Services</text>
    
    <!-- API Gateway -->
    <rect x="50" y="370" width="130" height="60" rx="5" fill="#FF5722" />
    <text x="115" y="400" text-anchor="middle" fill="white" font-size="14">API Gateway</text>
    <text x="115" y="420" text-anchor="middle" fill="white" font-size="11">(REST/GraphQL)</text>
    
    <!-- Search Service -->
    <rect x="210" y="370" width="130" height="60" rx="5" fill="#FF9800" />
    <text x="275" y="400" text-anchor="middle" fill="white" font-size="14">Search Service</text>
    <text x="275" y="420" text-anchor="middle" fill="white" font-size="11">(ElasticSearch)</text>
    
    <!-- Recommendation -->
    <rect x="370" y="370" width="130" height="60" rx="5" fill="#E91E63" />
    <text x="435" y="400" text-anchor="middle" fill="white" font-size="14">Recommendation</text>
    <text x="435" y="420" text-anchor="middle" fill="white" font-size="11">(ML Service)</text>
    
    <!-- Streaming Service -->
    <rect x="530" y="370" width="130" height="60" rx="5" fill="#009688" />
    <text x="595" y="400" text-anchor="middle" fill="white" font-size="14">Streaming</text>
    <text x="595" y="420" text-anchor="middle" fill="white" font-size="11">(HLS/DASH)</text>
    
    <!-- Analytics Service -->
    <rect x="690" y="370" width="130" height="60" rx="5" fill="#795548" />
    <text x="755" y="400" text-anchor="middle" fill="white" font-size="14">Analytics</text>
    <text x="755" y="420" text-anchor="middle" fill="white" font-size="11">(Real-time)</text>
    
    <!-- Ad Service -->
    <rect x="850" y="370" width="130" height="60" rx="5" fill="#607D8B" />
    <text x="915" y="400" text-anchor="middle" fill="white" font-size="14">Ad Service</text>
    <text x="915" y="420" text-anchor="middle" fill="white" font-size="11">(Monetization)</text>
  </g>
  
  <!-- CDN Layer -->
  <g id="cdn">
    <text x="1150" y="350" font-size="14" font-weight="bold" fill="#666">Content Delivery</text>
    
    <!-- Origin -->
    <rect x="1100" y="370" width="130" height="60" rx="5" fill="#4CAF50" />
    <text x="1165" y="400" text-anchor="middle" fill="white" font-size="14">Origin Servers</text>
    <text x="1165" y="420" text-anchor="middle" fill="white" font-size="11">(Master Copy)</text>
    
    <!-- Edge Cache -->
    <rect x="1260" y="370" width="130" height="60" rx="5" fill="#8BC34A" />
    <text x="1325" y="400" text-anchor="middle" fill="white" font-size="14">Edge Cache</text>
    <text x="1325" y="420" text-anchor="middle" fill="white" font-size="11">(Global PoPs)</text>
  </g>
  
  <!-- Cache Layer -->
  <g id="cache">
    <rect x="450" y="480" width="140" height="60" rx="5" fill="#F44336" />
    <text x="520" y="510" text-anchor="middle" fill="white" font-size="14">Redis/Memcache</text>
    <text x="520" y="530" text-anchor="middle" fill="white" font-size="11">(Hot Data)</text>
  </g>
  
  <!-- Message Queue -->
  <rect x="250" y="480" width="140" height="60" rx="5" fill="#9C27B0" />
  <text x="320" y="510" text-anchor="middle" fill="white" font-size="14">Pub/Sub</text>
  <text x="320" y="530" text-anchor="middle" fill="white" font-size="11">(Event Bus)</text>
  
  <!-- Clients -->
  <g id="viewers">
    <text x="150" y="590" font-size="14" font-weight="bold" fill="#666">Viewers</text>
    
    <rect x="50" y="610" width="120" height="60" rx="5" fill="#000000" />
    <text x="110" y="640" text-anchor="middle" fill="white" font-size="14">Web Player</text>
    <text x="110" y="660" text-anchor="middle" fill="white" font-size="11">(Browser)</text>
    
    <rect x="200" y="610" width="120" height="60" rx="5" fill="#000000" />
    <text x="260" y="640" text-anchor="middle" fill="white" font-size="14">Mobile App</text>
    <text x="260" y="660" text-anchor="middle" fill="white" font-size="11">(iOS/Android)</text>
    
    <rect x="350" y="610" width="120" height="60" rx="5" fill="#000000" />
    <text x="410" y="640" text-anchor="middle" fill="white" font-size="14">Smart TV</text>
    <text x="410" y="660" text-anchor="middle" fill="white" font-size="11">(Apps)</text>
  </g>
  
  <!-- ISP Cache -->
  <rect x="550" y="610" width="140" height="60" rx="5" fill="#03A9F4" />
  <text x="620" y="640" text-anchor="middle" fill="white" font-size="14">ISP Cache</text>
  <text x="620" y="660" text-anchor="middle" fill="white" font-size="11">(Partner Network)</text>
  
  <!-- Connection Lines -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
  </defs>
  
  <!-- Upload Flow -->
  <line x1="170" y1="130" x2="220" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="350" y1="130" x2="400" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="530" y1="130" x2="600" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Processing Flow -->
  <line x1="740" y1="130" x2="770" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="910" y1="130" x2="940" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="1080" y1="130" x2="1110" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- To Storage -->
  <line x1="840" y1="160" x2="130" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="1010" y1="160" x2="320" y2="240" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Services to Storage -->
  <line x1="275" y1="370" x2="320" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="435" y1="370" x2="510" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="755" y1="370" x2="700" y2="310" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- To CDN -->
  <line x1="595" y1="430" x2="1165" y2="370" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="1230" y1="400" x2="1260" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- To Cache -->
  <line x1="435" y1="430" x2="520" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- To Message Queue -->
  <line x1="755" y1="430" x2="320" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  
  <!-- Client connections -->
  <line x1="110" y1="610" x2="115" y2="430" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />
  <line x1="260" y1="610" x2="1325" y2="430" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />
  <line x1="410" y1="610" x2="620" y2="610" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="620" y1="610" x2="1325" y2="430" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />
  
  <!-- Legend -->
  <g transform="translate(800, 610)">
    <text x="0" y="0" font-size="16" font-weight="bold" fill="#333">Key Metrics:</text>
    <text x="0" y="25" font-size="12" fill="#666">• 500 hours uploaded per minute</text>
    <text x="0" y="45" font-size="12" fill="#666">• 1 billion hours watched daily</text>
    <text x="0" y="65" font-size="12" fill="#666">• 10 Exabytes total storage</text>
    
    <text x="250" y="25" font-size="12" fill="#666">• 400 Tbps peak bandwidth</text>
    <text x="250" y="45" font-size="12" fill="#666">• 200+ edge locations</text>
    <text x="250" y="65" font-size="12" fill="#666">• 15,000 transcoding servers</text>
  </g>
  
  <!-- Flow Annotations -->
  <g transform="translate(50, 730)">
    <text x="0" y="0" font-size="14" font-weight="bold" fill="#333">Processing Flow:</text>
    <text x="0" y="25" font-size="12" fill="#666">1. Upload: Chunked upload → Raw storage → Processing pipeline</text>
    <text x="0" y="45" font-size="12" fill="#666">2. Transcode: Multiple resolutions (144p to 8K) + Multiple codecs (H.264, VP9, AV1)</text>
    <text x="0" y="65" font-size="12" fill="#666">3. Distribution: Origin → Regional cache → Edge cache → ISP cache → Client</text>
    <text x="0" y="85" font-size="12" fill="#666">4. Streaming: Adaptive bitrate with HLS/DASH based on bandwidth</text>
    <text x="0" y="105" font-size="12" fill="#666">5. Analytics: Real-time view counting and recommendation updates</text>
  </g>
  
  <!-- Architecture Notes -->
  <g transform="translate(1150, 240)">
    <text x="0" y="0" font-size="12" font-weight="bold" fill="#333">Optimizations:</text>
    <text x="0" y="20" font-size="11" fill="#666">• VP9/AV1 compression</text>
    <text x="0" y="38" font-size="11" fill="#666">• Predictive caching</text>
    <text x="0" y="56" font-size="11" fill="#666">• ISP partnerships</text>
    <text x="0" y="74" font-size="11" fill="#666">• Erasure coding</text>
  </g>
</svg>